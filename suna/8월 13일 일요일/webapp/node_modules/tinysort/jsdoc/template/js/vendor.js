!function(t){function e(){for(var t=0;t<k.length;t++)k[t][0](k[t][1]);k=[],g=!1}function n(t,n){k.push([t,n]),g||(g=!0,x(e,0))}function r(t,e){function n(t){o(e,t)}function r(t){u(e,t)}try{t(n,r)}catch(i){r(i)}}function i(t){var e=t.owner,n=e.state_,r=e.data_,i=t[n],s=t.then;if("function"==typeof i){n=b;try{r=i(r)}catch(c){u(s,c)}}a(s,r)||(n===b&&o(s,r),n===w&&u(s,r))}function a(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"==typeof e)){var r=e.then;if("function"==typeof r)return r.call(e,function(r){n||(n=!0,e!==r?o(t,r):s(t,r))},function(e){n||(n=!0,u(t,e))}),!0}}catch(i){return n||u(t,i),!0}return!1}function o(t,e){t!==e&&a(t,e)||s(t,e)}function s(t,e){t.state_===m&&(t.state_=v,t.data_=e,n(l,t))}function u(t,e){t.state_===m&&(t.state_=v,t.data_=e,n(f,t))}function c(t){t.then_=t.then_.forEach(i)}function l(t){t.state_=b,c(t)}function f(t){t.state_=w,c(t)}function p(t){if("function"!=typeof t)throw new TypeError("Promise constructor takes a function argument");if(this instanceof p==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],r(t,this)}var d=t.Promise,h=d&&"resolve"in d&&"reject"in d&&"all"in d&&"race"in d&&function(){var t;return new d(function(e){t=e}),"function"==typeof t}();"undefined"!=typeof exports&&exports?exports.Promise=p||d:h||(t.Promise=p);var g,m="pending",v="sealed",b="fulfilled",w="rejected",y=function(){},x="undefined"!=typeof setImmediate?setImmediate:setTimeout,k=[];p.prototype={constructor:p,state_:m,then_:null,data_:void 0,then:function(t,e){var r={owner:this,then:new this.constructor(y),fulfilled:t,rejected:e};return this.state_===b||this.state_===w?n(i,r):this.then_.push(r),r.then},"catch":function(t){return this.then(null,t)}},p.all=function(t){var e=this;if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new e(function(e,n){function r(t){return o++,function(n){a[t]=n,--o||e(a)}}for(var i,a=[],o=0,s=0;s<t.length;s++)i=t[s],i&&"function"==typeof i.then?i.then(r(s),n):a[s]=i;o||e(a)})},p.race=function(t){var e=this;if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new e(function(e,n){for(var r,i=0;i<t.length;i++)r=t[i],r&&"function"==typeof r.then?r.then(e,n):e(r)})},p.resolve=function(t){var e=this;return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},p.reject=function(t){var e=this;return new e(function(e,n){n(t)})}}(new Function("return this")()),void 0===window.iddqd&&(window.iddqd=function(){"use strict";function t(){if(void 0===location.origin){var t=location.href.split("/");t.length=3,location.origin=t.join("/")}}function e(){window.console||(window.console={},window.console.log||(window.console.log=y.fn),window.console.warn||(window.console.warn=y.fn))}function n(){!function(t,e){function n(t){var n=e[t];e[t]=function(t){return i(n(t))}}function r(e,n,r){return(r=this).attachEvent("on"+e,function(e){var i=e||t.event;i.preventDefault=i.preventDefault||function(){i.returnValue=!1},i.stopPropagation=i.stopPropagation||function(){i.cancelBubble=!0},n.call(r,i)})}function i(t,e){if(e=t.length)for(;e--;)t[e].addEventListener=r;else t.addEventListener=r;return t}t.addEventListener||(i([e,t]),"Element"in t?t.Element.prototype.addEventListener=r:(e.attachEvent("onreadystatechange",function(){i(e.all)}),n("getElementsByTagName"),n("getElementById"),n("createElement"),i(e.all)))}(window,document)}function r(){}function i(){u(document.getElementsByTagName("script"),function(t){var e=t.attributes&&t.attributes.src&&t.attributes.src.value.split("?").shift(),n=e&&e.match(/^(.*)(iddqd\.js|iddqd\.min\.js)$/);n&&(x=n[1])})}function a(){!function(t){if(t.classList&&(t.classList.add("a","b"),!t.classList.contains("b"))){var e=DOMTokenList.prototype,n=e.add,r=e.remove;e.add=function(){for(var t=0,e=arguments.length;e>t;t++)n.call(this,arguments[t])},e.remove=function(){for(var t=0,e=arguments.length;e>t;t++)r.call(this,arguments[t])}}}(document.createElement("div"))}function o(){function t(){for(var t=!0,e=0,r=arguments.length;r>e&&t;e++)n.call(this,arguments[e])||(t=!1);return t}if(DOMTokenList){var e=DOMTokenList.prototype,n=e.contains;e.contains=t}}function s(t,e){function n(){y.DOMReady=!0,t()}function r(t){document.readyState==e,t()}y.DOMReady===!0?n():document.addEventListener&&!e?document.addEventListener("DOMContentLoaded",n,!1):document.onreadystatechange=function(){r(n)}}function u(t,e){if(t&&e){var n=Array.isArray?Array.isArray(t):"[object Array]"==Object.prototype.toString.call(t);if(n)for(var r,i=t.length,a=i;a--;)r=i-a-1,e(t[r],r);else for(var o in t)if(e.call(t[o],t[o],o)===!1)break}}function c(t,e,n){for(var r in e)(n||void 0===t[r])&&(t[r]=e[r]);return t}function l(t,e){for(var n,r=window,i=t.split(".");n=i.shift();)if(e){if(0===i.length){var a=r.hasOwnProperty(n)?r[n]:null;r[n]=e,e.hasOwnProperty("toString")||(e.toString=function(t){return function(){return"[object "+t+"]"}}(n)),a&&(console.warn("Overwriting "+n+" in "+t),c(r[n],a))}else r.hasOwnProperty(n)||(r[n]={});r=r[n]}else{if(!r.hasOwnProperty(n))return;r=r[n]}return r}function f(t,e,n,r,i,a){var o=document.createElement(t||"div");if(r)for(var s in r)o.setAttribute(s,r[s]);if(e){var u=o.classList,c="string"==typeof e?e.split(" "):e;u.add.apply(u,c)}return i&&(o.textContent=i),a&&o.addEventListener("click",a),n&&n.appendChild(o),o}function p(t,e,n){var r=document.createElement("script");r.src=t,e&&r.addEventListener("load",e),n&&r.addEventListener("error",n),(document.head||document.getElementsByTagName("head")[0]).appendChild(r)}function d(){return window.performance&&window.performance.now?window.performance.now():Date.now()}function h(){if(!w){for(var t=location.search.substr(1).split("&"),e=0,n=t.length;n>e;e++){var r=t[e].split("=");b[r.shift()]=r.join("=")}w=!0}return b}function g(t,e){if(document.createEventObject)return t.fireEvent("on"+e,document.createEventObject());var n=document.createEvent("HTMLEvents");return n.initEvent(e,!0,!0),!t.dispatchEvent(n)}function m(t,e){if(void 0===t)throw new Error(e||"'o' is undefined.");return t}function v(t,e){return c(e||{},{factory:v})}var b={},w=!1,y={toString:function(){return"[object iddqd]"},DOMReady:!1,onDOMReady:s,loop:u,extend:c,ns:l,createElement:f,fireEvent:g,millis:d,getGet:h,loadScript:p,uses:m,factory:v,fn:function(){}},x="./";return function(){t(),e(),n(),r(),i(),a(),o()}(),y}()),iddqd.ns("iddqd.pattern",function(){"use strict";function t(t){function e(){return n.push(this),this}var n=[];return function(){var r;return n.length?(r=n.pop(),r.reset&&r.reset.apply(r,arguments)):(r=t.apply(t,arguments),r.drop=e),r}}function e(t,e,n){var r,i=e||{},a=0;if(n){r=""+t;for(var o=0,s=r.length;s>o;o++)a=(a<<5)-a+r.charCodeAt(o),a&=a;var u={},c=Array.prototype,l=JSON.stringify,f=JSON.parse;return function(){var e=c.pop.call(arguments),n=a+l(arguments);if(n in i)e.apply(e,f(i[n]));else if(n in u)u[n].push(e);else{var r=u[n]=[e];c.push.call(arguments,function(){i[n]=l(c.slice.call(arguments));for(var t=0,e=r.length;e>t;t++){var a=r[t];a.apply(a,arguments)}}),t.apply(t,arguments)}}}return function(){var e=a+JSON.stringify(arguments);return e in i?i[e]:i[e]=t.apply(t,arguments)}}function n(t,e,n){var r=iddqd.uses(window.Promise);return void 0===e&&(e=1),void 0===n&&(n=2),function(){var i=Array.prototype.slice.call(arguments,0);return new r(function(r,a){i[e]||(i[e]=r),i[n]||(i[n]=a),t.apply(t,i)})}}function r(t,e){return function(){function n(n,a){function o(){for(var t,i,o=[],s=0,u=arguments.length;u>s;s++)o[s]=arguments[s];return e&&(o=e.apply(r,o)),t=o[0],i=o[1],t?a(t):n(i)}i[i.length-1]=o,t.apply(r,i)}for(var r=this,i=new Array(arguments.length+1),a=iddqd.uses(window.Promise),o=0,s=arguments.length;s>o;o+=1)i[o]=arguments[o];return new a(n)}}return{pool:t,memoize:e,callbackToPromise:n,denodify:r}}()),iddqd.ns("iddqd.internal",function(t){"use strict";function e(t,e){var n=t.prototype||Object.getPrototypeOf(t),r=!1;return void 0===n?console.warn("Object has no prototype to augment, use extend instead."):i(e,function(i,a){"toString"!==a&&"normalize"!==a&&"augment"!==a&&(n.hasOwnProperty(a)?n[a]!==e[a]&&console.warn("Attempting to augment with an existing propery: '"+a+"' in '"+t+"'."):(n[a]=void 0===i.org?i:i.org,r=!0))}),r}function n(t){i(t,function(e,n){if("function"==typeof e&&"augment"!==n&&"normalize"!==n&&"toString"!==n&&!e.normalized){var r=t[n];t[n]=function(t){return e.apply(t,Array.prototype.slice.apply(arguments,[1]))},t[n].normalized=!0,t[n].org=r}})}function r(t,r){return r.augment=function(){return e(t,r)},r.normalize=function(){n(r)},n(r),r}var i=t.loop;return r}(iddqd)),iddqd.ns("iddqd.internal.native.string",function(t,e){"use strict";return t(String,{pad:function(t,n,r){r===e&&(r=!1);for(var i,a=this.length,o=t-a,s=n.length,u=s>1,c=Math.max(0,u?Math.ceil(o/s):o),l=[],f=0;c>f;f++)l.push(n);return i=l.join(""),u&&(i=i.substr(0,o)),r?i+this:this+i},toType:function(){var t=parseInt(this,10);if(t.toString()==this)return t;var e=parseFloat(this);if(e.toString()==this)return e;var n="true"==this||("false"==this?!1:null);return null!==n?n:this},toXML:function(){var t;return window.ActiveXObject?(t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(this)):t=(new DOMParser).parseFromString(this,"text/xml"),t},toXMLObj:function(){var t=iddqd.internal.host;return t&&t.node&&t.node.toObject?t.node.toObject(iddqd.internal["native"].string.toXML(this).childNodes[0]):(console.warn("The required function iddqd.host.node.toObject does not exist"),!1)},generate:function(t,n){var r=function(t){return t%1===0},i=function(t,e){var n=t+Math.random()*(e-t);return r(t)&&r(e)?Math.round(n):n};t===e&&(t=6),n===e&&(n=!1);for(var a=[["a","e","i","o","u","y"],["aa","ai","au","ea","ee","ei","eu","ia","ie","io","iu","oa","oe","oi","ua","ui"],["b","c","d","f","g","h","j","k","l","m","n","p","q","r","s","t","v","w","x","z"],["bb","br","bs","cc","ch","cl","cr","db","dd","df","dg","dh","dj","dk","dl","dm","dn","dp","dq","dr","ds","dt","dv","dw","dz","fb","fd","ff","fg","fh","fj","fk","fl","fm","fn","fp","fq","fr","fs","ft","fv","fw","fz","gb","gd","gf","gg","gh","gj","gk","gl","gm","gn","gp","gq","gr","gs","gt","gv","gw","gz","kb","kd","kf","kg","kh","kj","kk","kl","km","kn","kp","kq","kr","ks","kt","kv","kw","kz","lb","ld","lf","lg","lh","lj","lk","ll","lm","ln","lp","lq","lr","ls","lt","lv","lw","lz","mb","md","mf","mg","mh","mj","mk","ml","mm","mn","mp","mq","mr","ms","mt","mv","mw","mz","nb","nd","nf","ng","nh","nj","nk","nl","nm","nn","np","nq","nr","ns","nt","nv","nw","nz","pb","pd","pf","pg","ph","pj","pk","pl","pm","pn","pp","pq","pr","ps","pt","pv","pw","pz","qb","qd","qf","qg","qh","qj","qk","ql","qm","qn","qp","qq","qr","qs","qt","qv","qw","qz","rb","rd","rf","rg","rh","rj","rk","rl","rm","rn","rp","rq","rr","rs","rt","rv","rw","rz","sb","sc","sd","sf","sg","sh","sj","sk","sl","sm","sn","sp","sq","sr","ss","st","sv","sw","sz","tb","td","tf","tg","th","tj","tk","tl","tm","tn","tp","tq","tr","ts","tt","tv","tw","tz","vb","vd","vf","vg","vh","vj","vk","vl","vm","vn","vp","vq","vr","vs","vt","vv","vw","vz","xb","xd","xf","xg","xh","xj","xk","xl","xm","xn","xp","xq","xr","xs","xt","xv","xw","xx","xz"]],o=6,s="",u=0,c=0;o>c;c++){u=0===c?i(0,2):c==o-1?2>u?2:i(0,1):2>u?i(0,1)+2:i(0,1);var l=a[u];s+=l[i(0,l.length-1)]}return n?s.substr(0,t):s},nameCase:function(){return("-"+this).replace(/[_\s\-][a-z]/g,function(t){return t.toUpperCase().replace("-"," ").replace("_"," ")}).substr(1)},camelCase:function(){return this.replace(/[_\s\-][a-z]/g,function(t){return t.toUpperCase().replace("-","").replace(" ","").replace("_","")})},dash:function(){var t=this.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}),e=this.replace(/[\s_]/g,"-");return this==t?e:t},underscore:function(){var t=this.replace(/[A-Z]/g,function(t){return"_"+t.toLowerCase()}),e=this.replace(/[\s\-]/g,"_");return this==t?e:t},sprintf:function(){var t=this,e=t.match(/(%\d+\$s)/gi);if(e)for(var n=0,r=e.length;r>n;n++)t=t.replace(new RegExp("(\\%"+(n+1)+"\\$s)","g"),arguments[n]);return t},isUrl:function(t){var n=new RegExp(t===e||t?"^((http|https|ftp):)?//([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&amp;%$-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|([a-zA-Z0-9-]+.)*[a-zA-Z0-9-]+.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(/($|[a-zA-Z0-9.,?'\\+&amp;%$#=~_-]+))*$":"^(((http|https|ftp):)?//)?([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&amp;%$-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|([a-zA-Z0-9-]+.)*[a-zA-Z0-9-]+.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(/($|[a-zA-Z0-9.,?'\\+&amp;%$#=~_-]+))*$");return n.test(this)},hashCode:function(){var t=0;if(0===this.length)return t;for(var e=0,n=this.length;n>e;e++){var r=this.charCodeAt(e);t=(t<<5)-t+r,t&=t}return t},toSlug:function(){for(var t=this.replace(/^\s+|\s+$/g,"").toLowerCase(),e="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",n="aaaaeeeeiiiioooouuuunc------",r=0,i=e.length;i>r;r++)t=t.replace(new RegExp(e.charAt(r),"g"),n.charAt(r));return t=t.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}})}(iddqd.internal)),iddqd.ns("iddqd.internal.native.number",function(t){"use strict";return t(Number,{formatSize:function(t){var e,n=this;void 0===t&&(t=0);var r=["B","kB","MB","GB","TB","PB","EB","ZB","YB"];for(e=0;n>1024&&r.length>=e+2;e++)n/=1024;var i=Math.pow(10,t);return Math.round(n*i)/i+r[e]}})}(iddqd.internal)),iddqd.ns("iddqd.network.xhttp",function(){"use strict";function t(t,n,r,i){var a=e(),o=i?"POST":"GET";if(a&&(a.open(o,t,!0),i&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){return 4==a.readyState?200!=a.status&&304!=a.status?void r("HTTP error "+a.status):void n(a):void 0},4!=a.readyState))return a.send(i),a}function e(){for(var t=!1,e=0;e<n.length;e++){try{t=n[e]()}catch(r){continue}break}return t}var n=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return t.create=e,t}()),window.Rainbow=function(){function t(t,e,n,r){var i=t.getAttribute&&t.getAttribute(e)||0;if(!i)for(n=t.attributes,r=0;r<n.length;++r)if(n[r].nodeName===e)return n[r].nodeValue;return i}function e(t,e){t.className+=t.className?" "+e:e}function n(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1}function r(e){var n=t(e,"data-language")||t(e.parentNode,"data-language");if(!n){var r=/\blang(?:uage)?-(\w+)/,i=e.className.match(r)||e.parentNode.className.match(r);i&&(n=i[1])}return n}function i(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&(?![\w\#]+;)/g,"&amp;")}function a(t,e,n,r){return n>=t&&e>n?!0:r>t&&e>r}function o(t,e,n,r){return n==t&&r==e?!1:t>=n&&r>=e}function s(t,e){for(var n in _[C])if(n=parseInt(n,10),o(n,_[C][n],t,e)&&(delete _[C][n],delete k[C][n]),a(n,_[C][n],t,e))return!0;return!1}function u(t,e){return'<span class="'+t.replace(/\./g," ")+(y?" "+y:"")+'">'+e+"</span>"}function c(t,e){var n,r=0;for(n=1;e>n;++n)t[n]&&(r+=t[n].length);return r}function l(t,e,n,r){var i=t.exec(n);if(!i)return r();++E,e.name||"string"!=typeof e.matches[0]||(e.name=e.matches[0],delete e.matches[0]);var a=i[0],o=i.index,f=i[0].length+o,p=function(){var i=function(){l(t,e,n,r)};return E%100>0?i():setTimeout(i,0)};if(s(o,f))return p();var m=function(t){e.name&&(t=u(e.name,t)),k[C]||(k[C]={},_[C]={}),k[C][o]={replace:i[0],"with":t},_[C][o]=f,p()},b=h(e.matches),w=function(t,n,r){if(t>=n.length)return r(a);var o=function(){w(++t,n,r)},s=i[n[t]];if(!s)return o();var l=e.matches[n[t]],f=l.language,p=l.name&&l.matches?l.matches:l,h=function(e,r,s){a=d(c(i,n[t]),e,s?u(s,r):r,a),o()};return f?v(s,f,function(t){h(s,t)}):"string"==typeof l?h(s,s,l):void g(s,p.length?p:[p],function(t){h(s,t,l.matches?l.name:0)})};w(0,b,m)}function f(t){return A[t]}function p(t){var e=S[t]||[],n=S[T]||[];return f(t)?e:e.concat(n)}function d(t,e,n,r){var i=r.substr(t);return r.substr(0,t)+i.replace(e,n)}function h(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e.sort(function(t,e){return e-t})}function g(t,e,n){function r(e,i){return i<e.length?l(e[i].pattern,e[i],t,function(){r(e,++i)}):void m(t,function(t){delete k[C],delete _[C],--C,n(t)})}++C,r(e,0)}function m(t,e){function n(t,e,r,i){if(r<e.length){++O;var a=e[r],o=k[C][a];t=d(a,o.replace,o["with"],t);var s=function(){n(t,e,++r,i)};return O%250>0?s():setTimeout(s,0)}i(t)}var r=h(k[C]);n(t,r,0,e)}function v(t,e,n){var r=p(e);g(i(t),r,n)}function b(t,i,a){if(i<t.length){var o=t[i],s=r(o);return!n(o,"rainbow")&&s?(s=s.toLowerCase(),e(o,"rainbow"),v(o.innerHTML,s,function(e){o.innerHTML=e,k={},_={},x&&x(o,s),setTimeout(function(){b(t,++i,a)},0)})):b(t,++i,a)}a&&a()}function w(t,e){t=t&&"function"==typeof t.getElementsByTagName?t:document;var n,r=t.getElementsByTagName("pre"),i=t.getElementsByTagName("code"),a=[];for(n=0;n<i.length;++n)a.push(i[n]);for(n=0;n<r.length;++n)r[n].getElementsByTagName("code").length||a.push(r[n]);b(a,0,e)}var y,x,k={},_={},S={},A={},C=0,T=0,E=0,O=0;return{extend:function(t,e,n){1==arguments.length&&(e=t,t=T),A[t]=n,S[t]=e.concat(S[t]||[])},onHighlight:function(t){x=t},addClass:function(t){y=t},color:function(){return"string"==typeof arguments[0]?v(arguments[0],arguments[1],arguments[2]):"function"==typeof arguments[0]?w(0,arguments[0]):void w(arguments[0],arguments[1])}}}(),function(){return document.addEventListener?document.addEventListener("DOMContentLoaded",Rainbow.color,!1):void window.attachEvent("onload",Rainbow.color)}(),Rainbow.onHighlight=Rainbow.onHighlight,Rainbow.addClass=Rainbow.addClass,Rainbow.extend([{matches:{1:{name:"keyword.operator",pattern:/\=/g},2:{name:"string",matches:{name:"constant.character.escape",pattern:/\\('|"){1}/g}}},pattern:/(\(|\s|\[|\=|:)(('|")([^\\\1]|\\.)*?(\3))/gm},{name:"comment",pattern:/\/\*[\s\S]*?\*\/|(\/\/|\#)[\s\S]*?$/gm},{name:"constant.numeric",pattern:/\b(\d+(\.\d+)?(e(\+|\-)?\d+)?(f|d)?|0x[\da-f]+)\b/gi},{matches:{1:"keyword"},pattern:/\b(and|array|as|b(ool(ean)?|reak)|c(ase|atch|har|lass|on(st|tinue))|d(ef|elete|o(uble)?)|e(cho|lse(if)?|xit|xtends|xcept)|f(inally|loat|or(each)?|unction)|global|if|import|int(eger)?|long|new|object|or|pr(int|ivate|otected)|public|return|self|st(ring|ruct|atic)|switch|th(en|is|row)|try|(un)?signed|var|void|while)(?=\(|\b)/gi},{name:"constant.language",pattern:/true|false|null/g},{name:"keyword.operator",pattern:/\+|\!|\-|&(gt|lt|amp);|\||\*|\=/g},{matches:{1:"function.call"},pattern:/(\w+?)(?=\()/g},{matches:{1:"storage.function",2:"entity.name.function"},pattern:/(function)\s(.*?)(?=\()/g}]),Rainbow.extend("html",[{name:"source.php.embedded",matches:{2:{language:"php"}},pattern:/&lt;\?=?(?!xml)(php)?([\s\S]*?)(\?&gt;)/gm},{name:"source.css.embedded",matches:{0:{language:"css"}},pattern:/&lt;style(.*?)&gt;([\s\S]*?)&lt;\/style&gt;/gm},{name:"source.js.embedded",matches:{0:{language:"javascript"}},pattern:/&lt;script(?! src)(.*?)&gt;([\s\S]*?)&lt;\/script&gt;/gm},{name:"comment.html",pattern:/&lt;\!--[\S\s]*?--&gt;/g},{matches:{1:"support.tag.open",2:"support.tag.close"},pattern:/(&lt;)|(\/?\??&gt;)/g},{name:"support.tag",matches:{1:"support.tag",2:"support.tag.special",3:"support.tag-name"},pattern:/(&lt;\??)(\/|\!?)(\w+)/g},{matches:{1:"support.attribute"},pattern:/([a-z-]+)(?=\=)/gi},{matches:{1:"support.operator",2:"string.quote",3:"string.value",4:"string.quote"},pattern:/(=)('|")(.*?)(\2)/g},{matches:{1:"support.operator",2:"support.value"},pattern:/(=)([a-zA-Z\-0-9]*)\b/g},{matches:{1:"support.attribute"},pattern:/\s(\w+)(?=\s|&gt;)(?![\s\S]*&lt;)/g}],!0),Rainbow.extend("css",[{name:"comment",pattern:/\/\*[\s\S]*?\*\//gm},{name:"constant.hex-color",pattern:/#([a-f0-9]{3}|[a-f0-9]{6})(?=;|\s)/gi},{matches:{1:"constant.numeric",2:"keyword.unit"},pattern:/(\d+)(px|em|cm|s|%)?/g},{name:"string",pattern:/('|")(.*?)\1/g},{name:"support.css-property",matches:{1:"support.vendor-prefix"},pattern:/(-o-|-moz-|-webkit-|-ms-)?[\w-]+(?=\s?:)(?!.*\{)/g},{matches:{1:[{name:"entity.name.sass",pattern:/&amp;/g},{name:"direct-descendant",pattern:/&gt;/g},{name:"entity.name.class",pattern:/\.[\w\-_]+/g},{name:"entity.name.id",pattern:/\#[\w\-_]+/g},{name:"entity.name.pseudo",pattern:/:[\w\-_]+/g},{name:"entity.name.tag",pattern:/\w+/g}]},pattern:/([\w\ ,:\.\#\&\;\-_]+)(?=.*\{)/g},{matches:{2:"support.vendor-prefix",3:"support.css-value"},pattern:/(:|,)\s?(-o-|-moz-|-webkit-|-ms-)?([a-zA-Z-]*)(?=\b)(?!.*\{)/g},{matches:{1:"support.tag.style",2:[{name:"string",pattern:/('|")(.*?)(\1)/g},{name:"entity.tag.style",pattern:/(\w+)/g}],3:"support.tag.style"},pattern:/(&lt;\/?)(style.*?)(&gt;)/g}],!0),Rainbow.extend("javascript",[{name:"selector",pattern:/(\s|^)\$(?=\.|\()/g},{name:"support",pattern:/\b(window|document)\b/g},{matches:{1:"support.property"},pattern:/\.(length|node(Name|Value))\b/g},{matches:{1:"support.function"},pattern:/(setTimeout|setInterval)(?=\()/g},{matches:{1:"support.method"},pattern:/\.(getAttribute|push|getElementById|getElementsByClassName|log|setTimeout|setInterval)(?=\()/g},{matches:{1:"support.tag.script",2:[{name:"string",pattern:/('|")(.*?)(\1)/g},{name:"entity.tag.script",pattern:/(\w+)/g}],3:"support.tag.script"},pattern:/(&lt;\/?)(script.*?)(&gt;)/g},{name:"string.regexp",matches:{1:"string.regexp.open",2:{name:"constant.regexp.escape",pattern:/\\(.){1}/g},3:"string.regexp.close",4:"string.regexp.modifier"},pattern:/(\/)(?!\*)(.+)(\/)([igm]{0,3})/g},{matches:{1:"storage",3:"entity.function"},pattern:/(var)?(\s|^)(\S*)(?=\s?=\s?function\()/g},{matches:{1:"keyword",2:"entity.function"},pattern:/(new)\s+(.*)(?=\()/g},{name:"entity.function",pattern:/(\w+)(?=:\s{0,}function)/g}]),window.Rainbow&&!window.Rainbow.linenumbers&&(window.Rainbow.linenumbers=function(t){function e(t){function e(){r(c,h,v,t.offsetWidth)}o++;var s,u,c,l=/\r\n|\r|\n/g,f=t.innerHTML.replace(l,"\n").split("\n").length,p=t.getAttribute("data-line")<<0||1,d=p>=0,h="rb"+o,g=t.parentNode,m=i(t),v=1+String(p+f-1).length*m;d&&(s=p,u=n(h,p)+t.innerHTML.replace(l,function(t){return t+n(h,++s)}),t.classList.add(h),"block"===a(t).display&&window.addEventListener("resize",e,!1),c=document.createElement("style"),e(),g.parentNode.insertBefore(c,g),t.innerHTML=u)}function n(t,e){var n=t+"ln"+e;return'<span id="'+n+'" class="line" data-line="'+e+'"></span>'}function r(t,e,n,r){t.textContent="pre code.rainbow."+e+" .line:before{ width: "+n+"px; }pre code.rainbow."+e+" .line:after{ width:"+(r||0)+"px }"}function i(t){var e,n=5,r=document.createElement("div"),i=r.style,o=a(t),s={font:o.font,width:"auto",display:"inline-block"};r.appendChild(document.createTextNode(new Array(1<<n).join("a")+"a"));for(var u in s)i[u]=s[u];return document.body.appendChild(r),e=r.offsetWidth>>n,document.body.removeChild(r),e}function a(t){return t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t,null)||t.style}var o=0,s=document.createElement("style");return s.appendChild(document.createTextNode("pre code.rainbow .line { position: relative; padding-right: 10px; }pre code.rainbow .line:before{ content: attr(data-line); display: inline-block; text-align: right; white-space: nowrap; }pre code.rainbow .line:after{ content:''; position: absolute; left: 0; bottom: 0; }")),document.head.appendChild(s),t.onHighlight(e),e}(window.Rainbow));var zen=function(){function t(){}var e=function(){var e=this,n=(e._,{}),r=Array.prototype,i=Object.prototype,a=Function.prototype,o=r.slice,s=(r.unshift,i.toString),u=i.hasOwnProperty,c=r.forEach,l=r.map,f=r.reduce,p=(r.reduceRight,r.filter),d=(r.every,r.some,r.indexOf),h=(r.lastIndexOf,Array.isArray),g=Object.keys,m=a.bind,v=t;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):e._=v,v.VERSION="1.3.3";var b=v.each=v.forEach=function(t,e,r){if(null!=t)if(c&&t.forEach===c)t.forEach(e,r);else if(t.length===+t.length){for(var i=0,a=t.length;a>i;i++)if(i in t&&e.call(r,t[i],i,t)===n)return}else for(var o in t)if(v.has(t,o)&&e.call(r,t[o],o,t)===n)return};v.map=v.collect=function(e,n,r){var i=[];return null==e?i:l&&e.map===l?e.map(n,r):(b(e,t),e.length===+e.length&&(i.length=e.length),i)},v.reduce=v.foldl=v.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),f&&t.reduce===f)return r&&(e=v.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(b(t,function(t,a,o){i?n=e.call(r,n,t,a,o):(n=t,i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return n},v.reduceRight=v.foldr=t,v.find=v.detect=t,v.filter=v.select=function(e,n,r){var i=[];return null==e?i:p&&e.filter===p?e.filter(n,r):(b(e,t),i)},v.reject=t,v.every=v.all=t;var w=v.some=v.any=t;v.include=v.contains=function(e,n){var r=!1;return null==e?r:d&&e.indexOf===d?-1!=e.indexOf(n):r=w(e,t)},v.invoke=t,v.pluck=t,v.max=t,v.min=t,v.shuffle=t,v.sortBy=t,v.groupBy=t,v.sortedIndex=t,v.toArray=t,v.size=t,v.first=v.head=v.take=t,v.initial=t,v.last=t,v.rest=v.tail=function(t,e,n){return o.call(t,null==e||n?1:e)},v.compact=t,v.flatten=function(t,e){return v.reduce(t,function(t,n){return v.isArray(n)?t.concat(e?n:v.flatten(n)):(t[t.length]=n,t)},[])},v.without=t,v.uniq=v.unique=t,v.union=t,v.intersection=v.intersect=t,v.difference=t,v.zip=t,v.indexOf=function(t,e,n){if(null==t)return-1;var r,i;if(n)return r=v.sortedIndex(t,e),t[r]===e?r:-1;if(d&&t.indexOf===d)return t.indexOf(e);for(r=0,i=t.length;i>r;r++)if(r in t&&t[r]===e)return r;return-1},v.lastIndexOf=t,v.range=t,v.bind=function(e,n){var r,i;if(e.bind===m&&m)return m.apply(e,o.call(arguments,1));if(!v.isFunction(e))throw new TypeError;return i=o.call(arguments,2),r=t},v.bindAll=t,v.memoize=t,v.delay=t,v.defer=t,v.throttle=t,v.debounce=t,v.once=t,v.wrap=t,v.compose=t,v.after=t,v.keys=g||t,v.values=t,v.functions=v.methods=function(t){var e=[];for(var n in t)v.isFunction(t[n])&&e.push(n);return e.sort()},v.extend=function(t){return b(o.call(arguments,1),function(e){for(var n in e)t[n]=e[n]}),t},v.pick=t,v.defaults=t,v.clone=function(t){return v.isObject(t)?v.isArray(t)?t.slice():v.extend({},t):t},v.tap=t,v.isEqual=t,v.isEmpty=t,v.isElement=t,v.isArray=h||t,v.isObject=function(t){return t===Object(t)},v.isArguments=function(t){return"[object Arguments]"==s.call(t)},v.isArguments(arguments)||(v.isArguments=t),v.isFunction=function(t){return"[object Function]"==s.call(t)},v.isString=function(t){return"[object String]"==s.call(t)},v.isNumber=function(t){return"[object Number]"==s.call(t)},v.isFinite=t,v.isNaN=t,v.isBoolean=t,v.isDate=t,v.isRegExp=t,v.isNull=t,v.isUndefined=function(t){return void 0===t},v.has=function(t,e){return u.call(t,e)},v.noConflict=t,v.identity=t,v.times=t,v.escape=t,v.result=t,v.mixin=function(t){b(v.functions(t),function(e){_(e,v[e]=t[e])})},v.uniqueId=t,v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var y={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var x in y)y[y[x]]=x;v.template=t,v.chain=t;var k=t;v.prototype=k.prototype;var _=function(e,n){k.prototype[e]=t};return v.mixin(v),b(["pop","push","reverse","shift","sort","splice","unshift"],function(e){r[e],k.prototype[e]=t}),b(["concat","join","slice"],function(e){r[e],k.prototype[e]=t}),k.prototype.chain=t,k.prototype.value=t,v}.call({}),n=function(n){function r(t){return t in o||!s||s(t),o[t]}var i="html";if("undefined"==typeof e)try{e=n[["require"][0]]("underscore")}catch(a){}if("undefined"==typeof e)throw"Cannot access to Underscore.js lib";var o={_:e},s=null;return{define:function(t,n){t in o||(o[t]=e.isFunction(n)?this.exec(n):n)},require:r,exec:function(t,i){return t.call(i||n,e.bind(r,this),e,this)},extend:t,expandAbbreviation:function(t,e,n,a){if(!t)return"";e=e||i;var o=r("filters"),s=r("abbreviationParser");n=r("profile").get(n,e),r("tabStops").resetTabstopIndex();var u=o.extractFromAbbreviation(t),c=s.parse(u[0],{syntax:e,contextNode:a}),l=o.composeList(e,n,u[1]);return o.apply(c,l,n),c.valueOf()},defaultSyntax:t,defaultProfile:t,log:t,setModuleLoader:t}}(this);"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=n),exports.emmet=n),"undefined"!=typeof define&&define(n),n.define("abbreviationParser",function(e,n){function r(){this.parent=null,this.children=[],this._attributes=[],this.abbreviation="",this.counter=1,this._name=null,this._text="",this.repeatCount=1,this.hasImplicitRepeat=!1,this._data={},this.start="",this.end="",this.content="",this.padding=""}function i(t){return t.substring(1,t.length-1)}function a(t,e){for(var n;n=t.next();)if(n===e)return!0;return!1}function o(t){t=e("utils").trim(t);for(var a,s,u=new r,c=u.addChild(),l=e("stringStream").create(t),f=1e3,p=function(t){c.addChild(t)},h=function(){l.start=l.pos,l.eatWhile(function(t){if("["==t||"{"==t){if(l.skipToPair(t,m[t]))return l.backUp(1),!0;throw'Invalid abbreviation: mo matching "'+m[t]+'" found for character at '+l.pos}if("+"==t){l.next();var e=l.eol()||~"+>^*".indexOf(l.peek());return l.backUp(1),e}return"("!=t&&d(t)})};!l.eol()&&--f>0;)switch(a=l.peek()){case"(":if(l.start=l.pos,!l.skipToPair("(",")"))throw'Invalid abbreviation: mo matching ")" found for character at '+l.pos;var g=o(i(l.current()));(s=l.match(/^\*(\d+)?/,!0))&&c._setRepeat(s[1]),n.each(g.children,p);break;case">":c=c.addChild(),l.next();break;case"+":c=c.parent.addChild(),l.next();break;case"^":var v=c.parent||c;c=(v.parent||v).addChild(),l.next();break;default:h(),c.setAbbreviation(l.current()),l.start=l.pos}if(1>f)throw"Endless loop detected";return u}function s(t){t=e("utils").trim(t);var n=[],r=e("stringStream").create(t);for(r.eatSpace();!r.eol()&&(r.start=r.pos,r.eatWhile(g));){var i=r.current(),o="";if("="==r.peek()){r.next(),r.start=r.pos;var s=r.peek();if('"'==s||"'"==s){if(r.next(),!a(r,s))throw"Invalid attribute value";o=r.current(),o=o.substring(1,o.length-1)}else{if(!r.eatWhile(/[^\s\]]/))throw"Invalid attribute value";o=r.current()}}n.push({name:i,value:o}),r.eatSpace()}return n}function u(t){for(var n=[],r={"#":"id",".":"class"},a=null,o=e("stringStream").create(t);!o.eol();)switch(o.peek()){case"#":case".":null===a&&(a=o.pos);var u=r[o.peek()];o.next(),o.start=o.pos,o.eatWhile(g),n.push({name:u,value:o.current()});break;case"[":if(null===a&&(a=o.pos),o.start=o.pos,!o.skipToPair("[","]"))throw"Invalid attribute set definition";n=n.concat(s(i(o.current())));break;default:o.next()}return n.length?{element:t.substring(0,a),attributes:c(n)}:null}function c(t){t=n.map(t,function(t){return n.clone(t)});var e={};return n.filter(t,function(t){if(!(t.name in e))return e[t.name]=t;var n=e[t.name];return"class"==t.name.toLowerCase()?n.value+=(n.value.length?" ":"")+t.value:n.value=t.value,!1})}function l(t){if(!~t.indexOf("{"))return null;for(var n=e("stringStream").create(t);!n.eol();)switch(n.peek()){case"[":case"(":n.skipToPair(n.peek(),m[n.peek()]);break;case"{":return n.start=n.pos,n.skipToPair("{","}"),{element:t.substring(0,n.start),text:i(n.current())};default:n.next()}}function f(t){for(var e,r,i,a=t.children.length-1;a>=0;a--)if(r=t.children[a],r.isRepeating())for(i=e=r.repeatCount,r.repeatCount=1,r.updateProperty("counter",1),r.updateProperty("maxCount",i);--e>0;)r.parent.addChild(r.clone(),a+1).updateProperty("counter",e+1).updateProperty("maxCount",i);return n.each(t.children,f),t}function p(t){for(var e=t.children.length-1;e>=0;e--){var r=t.children[e];r.isGroup()?r.replace(p(r).children):r.isEmpty()&&r.remove();
}return n.each(t.children,p),t}function d(t){var e=t.charCodeAt(0),n="#.*:$-_!@|%";return e>64&&91>e||e>96&&123>e||e>47&&58>e||-1!=n.indexOf(t)}var h=/^[\w\-\$\:@\!%]+\+?$/i,g=/[\w\-:\$@]/,m={"[":"]","(":")","{":"}"},v=Array.prototype.splice,b=[],w=[],y=[];return r.prototype={addChild:function(t,e){return t=t||new r,t.parent=this,n.isUndefined(e)?this.children.push(t):this.children.splice(e,0,t),t},clone:function(){var t=new r,e=["abbreviation","counter","_name","_text","repeatCount","hasImplicitRepeat","start","end","content","padding"];return n.each(e,function(e){t[e]=this[e]},this),t._attributes=n.map(this._attributes,function(t){return n.clone(t)}),t._data=n.clone(this._data),t.children=n.map(this.children,function(e){return e=e.clone(),e.parent=t,e}),t},remove:t,replace:function(){var t=this.parent,e=n.indexOf(t.children,this),r=n.flatten(arguments);v.apply(t.children,[e,1].concat(r)),n.each(r,function(e){e.parent=t})},updateProperty:function(t,e){return this[t]=e,n.each(this.children,function(n){n.updateProperty(t,e)}),this},find:t,findAll:t,data:function(t,n){return 2==arguments.length&&(this._data[t]=n,"resource"==t&&e("elements").is(n,"snippet")&&(this.content=n.data,this._text&&(this.content=e("abbreviationUtils").insertChildContent(n.data,this._text)))),this._data[t]},name:function(){var t=this.matchedResource();return e("elements").is(t,"element")?t.name:this._name},attributeList:function(){var t=[],r=this.matchedResource();return e("elements").is(r,"element")&&n.isArray(r.attributes)&&(t=t.concat(r.attributes)),c(t.concat(this._attributes))},attribute:t,matchedResource:function(){return this.data("resource")},index:t,_setRepeat:function(t){t?this.repeatCount=parseInt(t,10)||1:this.hasImplicitRepeat=!0},setAbbreviation:function(t){t=t||"";var e=this;t=t.replace(/\*(\d+)?$/,function(t,n){return e._setRepeat(n),""}),this.abbreviation=t;var n=l(t);n&&(t=n.element,this.content=this._text=n.text);var r=u(t);if(r&&(t=r.element,this._attributes=r.attributes),this._name=t,this._name&&!h.test(this._name))throw"Invalid abbreviation"},valueOf:function(){var t=e("utils"),r=this.start,i=this.end,a=this.content,o=this;n.each(y,function(t){r=t(r,o,"start"),a=t(a,o,"content"),i=t(i,o,"end")});var s=n.map(this.children,function(t){return t.valueOf()}).join("");return a=e("abbreviationUtils").insertChildContent(a,s,{keepVariable:!1}),r+t.padString(a,this.padding)+i},toString:t,hasEmptyChildren:t,hasImplicitName:t,isGroup:function(){return!this.abbreviation},isEmpty:function(){return!this.abbreviation&&!this.children.length},isRepeating:function(){return this.repeatCount>1||this.hasImplicitRepeat},isTextNode:function(){return!this.name()&&!this.attributeList().length},isElement:t,deepestChild:t},y.push(function(t,n){return e("utils").replaceCounter(t,n.counter,n.maxCount)}),{parse:function(e,r){r=r||{};var i=o(e);return r.contextNode&&(i._name=r.contextNode.name,n.each(i._attributes,t),n.each(r.contextNode.attributes,t)),n.each(b,t),i=p(f(i)),n.each(w,t),i},AbbreviationNode:r,addPreprocessor:t,removeFilter:t,addPostprocessor:t,removePostprocessor:t,addOutputProcessor:function(t){n.include(y,t)||y.push(t)},removeOutputProcessor:t,isAllowedChar:t}}),n.define("utils",function(e,n){return{reTag:/<\/?[\w:\-]+(?:\s+[\w\-:]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*\s*(\/?)>$/,endsWithTag:t,isNumeric:function(t){return"string"==typeof t&&(t=t.charCodeAt(0)),t&&t>47&&58>t},trim:function(t){return(t||"").replace(/^\s+|\s+$/g,"")},getNewline:function(){var t=e("resources");if(!t)return"\n";var r=t.getVariable("newline");return n.isString(r)?r:"\n"},setNewline:t,splitByLines:function(e,r){var i=this.getNewline(),a=(e||"").replace(/\r\n/g,"\n").replace(/\n\r/g,"\n").replace(/\r/g,"\n").replace(/\n/g,i).split(i);return r&&(a=n.filter(a,t,this)),a},normalizeNewline:t,repeatString:t,getStringsPads:t,padString:function(t,r){var i=n.isNumber(r)?this.repeatString(e("resources").getVariable("indentation")||"	",r):r,a=[],o=this.splitByLines(t),s=this.getNewline();a.push(o[0]);for(var u=1;u<o.length;u++)a.push(s+i+o[u]);return a.join("")},zeroPadString:function(t,e){for(var n="",r=t.length;e>r++;)n+="0";return n+t},unindentString:t,replaceUnescapedSymbol:function(t,e,r){for(var i=0,a=t.length,o=e.length,s=0;a>i;)if("\\"==t.charAt(i))i+=o+1;else if(t.substr(i,o)==e){var u=o;s++;var c=r;if(n.isFunction(r)){var l=r(t,e,i,s);l?(u=l[0].length,c=l[1]):c=!1}if(c===!1){i++;continue}t=t.substring(0,i)+c+t.substring(i+u),a=t.length,i+=c.length}else i++;return t},replaceVariables:function(r,i){return i=i||{},n.isFunction(i)?i:t,e("resources"),e("tabStops").processText(r,{variable:t})},replaceCounter:function(t,e,r){var i="$";t=String(t),e=String(e),/^\-?\d+$/.test(e)&&(e=+e);var a=this;return this.replaceUnescapedSymbol(t,i,function(t,i,o){if("{"==t.charAt(o+1)||a.isNumeric(t.charAt(o+1)))return!1;for(var s=o+1;"$"==t.charAt(s)&&"{"!=t.charAt(s+1);)s++;var u,c=s-o,l=0,f=!1;return(u=t.substr(s).match(/^@(\-?)(\d*)/))&&(s+=u[0].length,u[1]&&(f=!0),l=parseInt(u[2]||1,10)-1),f&&r&&n.isNumber(e)&&(e=r-e+1),e+=l,[t.substring(o,s),a.zeroPadString(e+"",c)]})},matchesTag:t,escapeText:t,unescapeText:t,getCaretPlaceholder:t,setCaretPlaceholder:t,getLinePadding:t,getLinePaddingFromPosition:t,escapeForRegexp:t,prettifyNumber:t,replaceSubstring:function(t,e,r,i){return n.isObject(r)&&"end"in r&&(i=r.end,r=r.start),n.isString(i)&&(i=r+i.length),n.isUndefined(i)&&(i=r),0>r||r>t.length?t:t.substring(0,r)+e+t.substring(i)},narrowToNonSpace:t,findNewlineBounds:t,deepMerge:function(){var t,e,r,i,a,o,s=arguments[0]||{},u=1,c=arguments.length;for(n.isObject(s)||n.isFunction(s)||(s={});c>u;u++)if(null!==(t=arguments[u]))for(e in t)r=s[e],i=t[e],s!==i&&(i&&(n.isObject(i)||(a=n.isArray(i)))?(a?(a=!1,o=r&&n.isArray(r)?r:[]):o=r&&n.isObject(r)?r:{},s[e]=this.deepMerge(o,i)):void 0!==i&&(s[e]=i));return s}}}),n.define("handlerList",function(e,n){function r(){this._list=[]}return r.prototype={add:t,remove:t,list:t,listFn:t,exec:t},{create:function(){return new r}}}),n.define("stringStream",function(){function e(t){this.pos=this.start=0,this.string=t}return e.prototype={eol:function(){return this.pos>=this.string.length},sol:t,peek:function(){return this.string.charAt(this.pos)},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e,n=this.string.charAt(this.pos);return e="string"==typeof t?n==t:n&&(t.test?t.test(n):t(n)),e?(++this.pos,n):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:t,skipTo:t,skipToPair:function(t,e){for(var n,r=0,i=this.pos,a=this.string.length;a>i;)if(n=this.string.charAt(i++),n==t)r++;else if(n==e&&(r--,1>r))return this.pos=i,!0;return!1},backUp:function(t){this.pos-=t},match:function(e,n,r){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&n!==!1&&(this.pos+=i[0].length),i}var a=r?t:t;return a(this.string).indexOf(a(e),this.pos)==this.pos?(n!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)}},{create:function(t){return new e(t)}}}),n.define("resources",function(e,n){var r={},i={},a={};return e("handlerList").create(),{setVocabulary:t,getVocabulary:t,getMatchedResource:t,getVariable:function(t){return(this.getSection("variables")||{})[t]},setVariable:t,hasSyntax:t,addResolver:t,removeResolver:t,getSection:function(t){if(!t)return null;t in r||(r[t]=e("utils").deepMerge({},i[t],a[t]));for(var o,s=r[t],u=n.rest(arguments);s&&(o=u.shift());){if(!(o in s))return null;s=s[o]}return s},findItem:function(t,e){for(var n=this.getSection(t);n;){if(e in n)return n[e];n=this.getSection(n["extends"])}},findSnippet:t,fuzzyFindSnippet:t,getAllSnippets:t}}),n.define("profile",function(e,n){function r(t){n.extend(this,u,t)}function i(t,e){switch(String(e||"").toLowerCase()){case"lower":return t.toLowerCase();case"upper":return t.toUpperCase()}return t}function a(t,e){return s[t.toLowerCase()]=new r(e)}function o(){a("xhtml"),a("html",{self_closing_tag:!1}),a("xml",{self_closing_tag:!0,tag_nl:!0}),a("plain",{tag_nl:!1,indent:!1,place_cursor:!1}),a("line",{tag_nl:!1,indent:!1,extraFilters:"s"})}var s={},u={tag_case:"asis",attr_case:"asis",attr_quotes:"double",tag_nl:"decide",tag_nl_leaf:!1,place_cursor:!0,indent:!0,inline_break:3,self_closing_tag:"xhtml",filters:"",extraFilters:""};return r.prototype={tagName:function(t){return i(t,this.tag_case)},attributeName:function(t){return i(t,this.attr_case)},attributeQuote:function(){return"single"==this.attr_quotes?"'":'"'},selfClosing:t,cursor:function(){return this.place_cursor?e("utils").getCaretPlaceholder():""}},o(),{create:t,get:function(t,i){if(!t&&i){var a=e("resources").findItem(i,"profile");a&&(t=a)}return t?t instanceof r?t:n.isString(t)&&t.toLowerCase()in s?s[t.toLowerCase()]:this.create(t):s.plain},remove:t,reset:t,stringCase:i}}),n.define("abbreviationUtils",function(e,n){return{isUnary:function(t){if(t.children.length||t._text||this.isSnippet(t))return!1;var e=t.matchedResource();return e&&e.is_empty},isInline:t,isBlock:t,isSnippet:function(t){return e("elements").is(t.matchedResource(),"snippet")},hasTagsInContent:t,hasBlockChildren:t,insertChildContent:function(r,i,a){a=n.extend({keepVariable:!0,appendIfNoChild:!0},a||{});var o=!1,s=e("utils");return r=s.replaceVariables(r,t),!o&&a.appendIfNoChild&&(r+=i),r}}}),n.define("htmlMatcher",function(e,n){return{find:t,tag:t}}),n.define("tabStops",function(e,n){var r=100,i=0,a={replaceCarets:!1,escape:t,tabstop:t,variable:t};return e("abbreviationParser").addOutputProcessor(function(n,r){var a=0,o=e("tabStops"),s=e("utils"),u={tabstop:t};return n=o.processText(n,u),n=s.replaceVariables(n,o.variablesResolver(r)),i+=a+1,n}),{extract:t,processText:function(t,r){r=n.extend({},a,r);for(var i,o,s,u="",c=e("stringStream").create(t);i=c.next();)if("\\"!=i||c.eol()){if(s=i,"$"==i)if(c.start=c.pos-1,o=c.match(/^[0-9]+/))s=r.tabstop({start:u.length,group:c.current().substr(1),token:c.current()});else if(o=c.match(/^\{([a-z_\-][\w\-]*)\}/))s=r.variable({start:u.length,name:o[1],token:c.current()});else if(o=c.match(/^\{([0-9]+)(:.+?)?\}/,!1)){c.skipToPair("{","}");var l={start:u.length,group:o[1],token:c.current()},f=l.token.substring(l.group.length+2,l.token.length-1);f&&(l.placeholder=f.substr(1)),s=r.tabstop(l)}u+=s}else u+=r.escape(c.next());return u},upgrade:t,variablesResolver:function(n){return e("resources"),t},resetTabstopIndex:function(){i=0,r=100}}}),n.define("preferences",function(e,n){function r(t){return n.isObject(t)&&"value"in t&&n.keys(t).length<3}var i={},a={};return{define:function(t,e,i){var o=t;n.isString(t)&&(o={},o[t]={value:e,description:i}),n.each(o,function(t,e){a[e]=r(t)?t:{value:t}})},set:t,get:function(t){return t in i?i[t]:t in a?a[t].value:void 0},getArray:function(t){var r=this.get(t);return n.isUndefined(r)||null===r||""===r?null:(r=n.map(r.split(","),e("utils").trim),r.length?r:null)},getDict:t,description:t,remove:t,list:t,load:t,exportModified:t,reset:t,_startTest:t,_stopTest:t}}),n.define("elements",function(e,n){function r(){}var i={},a={add:function(e,n){i[e]=t},get:t,create:t,is:function(t,e){return t&&t.type===e}};return a.add("element",t),a.add("snippet",r),a.add("reference",r),a.add("empty",t),a}),n.define("filters",function(e,n){function r(t){return t?n.isString(t)?t.split(/[\|,]/g):t:[]}var i={},a="html";return{add:function(t,e){i[t]=e},apply:function(t,a,o){var s=e("utils");return o=e("profile").get(o),n.each(r(a),function(e){var n=s.trim(e.toLowerCase());n&&n in i&&(t=i[n](t,o))}),t},composeList:function(t,n,i){n=e("profile").get(n);var o=r(n.filters||e("resources").findItem(t,"filters")||a);return n.extraFilters&&(o=o.concat(r(n.extraFilters))),i&&(o=o.concat(r(i))),o&&o.length||(o=r(a)),o},extractFromAbbreviation:function(e){var n="";return e=e.replace(/\|([\w\|\-]+)$/,t),[e,r(n)]}}}),n.exec(function(t,e){function n(n){return e.include(f.getArray("format.noIndentTags")||[],n.name())?"":t("resources").getVariable("indentation")}function r(){}function i(){}function a(){}function o(){}function s(){}function u(){}function c(s,c){s.start=s.end=l;var p=t("utils"),d=t("abbreviationUtils"),h=d.isUnary(s),g=p.getNewline(),m=n(s);if(c.tag_nl!==!1){var v=c.tag_nl===!0&&(c.tag_nl_leaf||s.children.length);v||(v=e.include(f.getArray("format.forceIndentationForTags")||[],s.name())),s.isTextNode()||(a(s,c)?(i(s)||d.isSnippet(s.parent)&&!s.index()||(s.start=g+s.start),(d.hasBlockChildren(s)||o(s,c)||v&&!h)&&(s.end=g+s.end),(d.hasTagsInContent(s)||v&&!s.children.length&&!h)&&(s.start+=g+m)):d.isInline(s)&&r(s)&&!i(s)?s.start=g+s.start:d.isInline(s)&&u(s,c)&&(s.end=g+s.end),s.padding=m)}return s}var l="%s",f=t("preferences");f.define("format.noIndentTags","html","A comma-separated list of tag names that should not get inner indentation."),f.define("format.forceIndentationForTags","body","A comma-separated list of tag names that should <em>always</em> get inner indentation."),t("filters").add("_format",function p(n,r,i){i=i||0;var a=t("abbreviationUtils");return e.each(n.children,function(t){a.isSnippet(t)?s(t,r,i):c(t,r,i),p(t,r,i+1)}),n})}),n.exec(function(t,e){function n(t,n){var r=n.attributeQuote(),i=n.cursor();return e.map(t.attributeList(),function(t){var e=n.attributeName(t.name);return" "+e+"="+r+(t.value||i)+r}).join("")}function r(e,r){if(!e.parent)return e;var i=t("abbreviationUtils"),a=t("utils"),o=n(e,r),s=r.cursor(),u=i.isUnary(e),c="",l="";if(!e.isTextNode()){var f=r.tagName(e.name());u?(c="<"+f+o+r.selfClosing()+">",e.end=""):(c="<"+f+o+">",l="</"+f+">")}var p="%s";return e.start=a.replaceSubstring(e.start,c,e.start.indexOf(p),p),e.end=a.replaceSubstring(e.end,l,e.end.indexOf(p),p),e.children.length||u||~e.content.indexOf(s)||t("tabStops").extract(e.content).tabstops.length||(e.start+=s),e}t("filters").add("html",function i(n,a,o){o=o||0;var s=t("abbreviationUtils");return o||(n=t("filters").apply(n,"_format",a)),e.each(n.children,function(t){s.isSnippet(t)||r(t,a,o),i(t,a,o+1)}),n})});var r=function(t){"use strict";var e=document.createElement("div"),n=e.childNodes,r=function(i,a){var o,s,u=[],c=t.expandAbbreviation(i);if(void 0!==a)for(var l in a){var f=a[l];if(f instanceof Array)for(o=f.length;o>=0;o--)c=c.replace(new RegExp(l+(o+1),"g"),f[o]);else c=c.replace(new RegExp(l,"g"),f)}if(e.innerHTML=c,s=n.length,r.firstChild&&1===s)u=e.firstChild;else for(o=0;s>o;o++)u.push(n[o]);return u};return r.firstChild=!1,r.exposeEmmet=function(){return t},r}(n);return r}();